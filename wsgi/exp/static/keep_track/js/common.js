// Generated by CoffeeScript 1.9.3
(function() {
  var Debriefing, Questionnaire, dataHandler, mean;

  dataHandler = DataHandler(uniqueId, experimentName);

  dataHandler.preloadPages([experimentName + '/postquestionnaire.html', experimentName + '/kt_debriefing.html']);

  mean = function(numericArray) {
    var avg, sum;
    sum = numericArray.reduce(function(a, b) {
      return a + b;
    });
    avg = sum / numericArray.length;
    return avg;
  };

  Questionnaire = (function() {
    function Questionnaire() {}

    Questionnaire.prototype.start = function(exitTrial) {
      this.exitTrial = exitTrial;
      return $('body').html(dataHandler.getPage(experimentName + '/postquestionnaire.html'));
    };

    Questionnaire.prototype.buttonClick = function() {
      $("select").each(function(i, val) {
        return dataHandler.recordUnstructuredData(this.id, this.value);
      });
      dataHandler.recordUnstructuredData('openended', $('#openended').val());
      dataHandler.saveData();
      return this.exitTrial();
    };

    return Questionnaire;

  })();

  Debriefing = (function() {
    function Debriefing() {}

    Debriefing.prototype.start = function(exitTrial) {
      this.exitTrial = exitTrial;
      return $('body').html(dataHandler.getPage(experimentName + '/kt_debriefing.html'));
    };

    Debriefing.prototype.buttonClick = function() {
      return this.exitTrial();
    };

    return Debriefing;

  })();

  this.dataHandler = dataHandler;

  this.common = {
    Questionnaire: Questionnaire,
    Debriefing: Debriefing,
    mean: mean
  };

}).call(this);
